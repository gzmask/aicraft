var AICRAFT=AICRAFT||{};exports=AICRAFT;AICRAFT.GameObject=function(a,b,d,c,e,f,g){this.position={};this.position.x=a;this.position.y=b;this.position.z=d;this.quaternion={};this.quaternion.x=c||0;this.quaternion.y=e||0;this.quaternion.z=f||0;void 0!==this.quaternion.w?g:1;this.phybody=this.mesh=void 0;this.width=8;this.height=1;this.depth=8;this.radius=5;this.mass=1};
AICRAFT.GameObject.prototype={constructor:AICRAFT.GameObject,buildMesh:function(){this.mesh=new THREE.Mesh(new THREE.CubeGeometry(this.width,this.height,this.depth),new THREE.MeshLambertMaterial({color:16777215}));this.mesh.castShadow=!0;this.mesh.receiveShadow=!0;this.mesh.position.x=this.position.x;this.mesh.position.y=this.position.y;this.mesh.position.z=this.position.z;this.mesh.useQuaternion=!0;this.mesh.quaternion.set(this.quaternion.x,this.quaternion.y,this.quaternion.z,this.quaternion.w)},
buildPhysic:function(){var a=new Ammo.btBoxShape(new Ammo.btVector3(this.width/2,this.height/2,this.depth/2)),b=new Ammo.btTransform;b.setIdentity();b.setOrigin(new Ammo.btVector3(this.position.x,this.position.y,this.position.z));b.setRotation(new Ammo.btQuaternion(this.quaternion.x,this.quaternion.y,this.quaternion.z,this.quaternion.w));var d=0!=this.mass,c=new Ammo.btVector3(0,0,0);d&&a.calculateLocalInertia(this.mass,c);b=new Ammo.btDefaultMotionState(b);a=new Ammo.btRigidBodyConstructionInfo(this.mass,
b,a,c);this.phybody=new Ammo.btRigidBody(a);this.phybody.setFriction(3)},physicUpdate:function(a){this.phybody.getMotionState()&&(this.phybody.getMotionState().getWorldTransform(a.trans),this.position.x=this.mesh.position.x=a.trans.getOrigin().x().toFixed(2),this.position.y=this.mesh.position.y=a.trans.getOrigin().y().toFixed(2),this.position.z=this.mesh.position.z=a.trans.getOrigin().z().toFixed(2),this.quaternion.x=this.mesh.quaternion.x=a.trans.getRotation().x(),this.quaternion.y=this.mesh.quaternion.y=
a.trans.getRotation().y(),this.quaternion.z=this.mesh.quaternion.z=a.trans.getRotation().z(),this.quaternion.w=this.mesh.quaternion.w=a.trans.getRotation().w())}};AICRAFT.Ai=function(a,b,d,c,e,f,g){AICRAFT.GameObject.call(this,a,b,d,c,e,f,g)};AICRAFT.Ai.prototype=new AICRAFT.GameObject;AICRAFT.Ai.prototype.constructor=AICRAFT.Ai;AICRAFT.Player=function(a,b,d,c,e,f,g){this.maxSpeed=20;this.acceleration=4;AICRAFT.GameObject.call(this,a,b,d,c,e,f,g)};AICRAFT.Player.prototype=new AICRAFT.GameObject;AICRAFT.Player.prototype.constructor=AICRAFT.Player;
